@import "loader";

#tracksList {
    position      : relative;
    width         : 100%;
    height        : 100%;
    border-radius : 50%;
    
    &.active {
        
        .tracksList-hoverZone {
            width  : $tracksList-active-hoverZone-size*2;
            height : $tracksList-active-hoverZone-size*2;
        }
        
        .tracksList-content {
            @include mdc-elevation(2);
            width  : $tracksList-size*2;
            height : $tracksList-size*2;
        }
    }
    
    .tracksList-hoverZone {
        @include centered;
        width         : $tracksList-hoverZone-size*2;
        height        : $tracksList-hoverZone-size*2;
        border-radius : 50%;
    }
    
    .tracksList-open.active {
        @include mdc-ripple-base;
        @include mdc-ripple-bg((pseudo: "::before"));
        @include mdc-ripple-fg((pseudo: "::after"));
        @include buttonReset;
        @include centered;
        width            : ($controlPanel-size - 1px)*2;
        height           : ($controlPanel-size - 1px)*2;
        border-radius    : 50%;
        background-color : $bg-dark-primary;
        cursor           : pointer;
        overflow         : hidden;
        transition       : width $tracksList-transition-time/2 $tracksList-transition-easing, height $tracksList-transition-time/2 $tracksList-transition-easing;
    }
    
    .tracksList-close {
        @include mdc-ripple-base;
        @include mdc-ripple-bg((pseudo: "::before"));
        @include mdc-ripple-fg((pseudo: "::after"));
        @include buttonReset;
        @include centered;
        width            : 0;
        height           : $tracksList-close-size;
        border-radius    : 0 2px 2px 0;
        overflow         : hidden;
        background-color : $color-primary;
        cursor           : pointer;
        transform        : translateY(-50%);
        transition       : left $tracksList-transition-time $tracksList-transition-easing, width $tracksList-transition-time $tracksList-transition-easing;
        
        span {
            display    : inline-block;
            width      : 100%;
            height     : 100%;
            color      : $text-light-color;
            text-align : center;
            cursor     : inherit;
            
            &:before {
                @include materialIcon;
                content     : 'close';
                line-height : $tracksList-close-size;
                cursor      : inherit;
            }
        }
        
        &.active {
            left  : $controlPanel-size + $tracksList-size - $tracksList-close-size - 1px;
            width : $tracksList-close-size;
        }
    }
    
    .tracksList-content {
        @include centered;
        width            : ($controlPanel-size - 1px)*2;
        height           : ($controlPanel-size - 1px)*2;
        border-radius    : 50%;
        background-color : $bg-dark-primary;
        transition       : width $tracksList-transition-time $tracksList-transition-easing, height $tracksList-transition-time $tracksList-transition-easing;
        
        .tracksList-items {
            position      : relative;
            width         : 100%;
            height        : 100%;
            border-radius : 50%;
            overflow      : hidden;
        }
        
        .tracksList-items-transition-enter-active, .tracksList-items-transition-leave-active {
            transition : opacity $tracksList-transition-time $tracksList-transition-easing $tracksList-transition-time/2;
        }
        
        .tracksList-items-transition-leave-active {
            transition-delay : 0s;
        }
        
        .tracksList-items-transition-enter, .tracksList-items-transition-leave-to {
            opacity : 0;
        }
    }
}

.playlist-content:hover #tracksList {
    
    .tracksList-open.active {
        @include mdc-elevation(1);
        width  : ($controlPanel-size + $tracksList-open-size)*2;
        height : ($controlPanel-size + $tracksList-open-size)*2;
    }
    
    .tracksList-close.active {
        @include mdc-elevation(1);
        left : $controlPanel-size + $tracksList-size - 1px;
    }
}
